# PIT to Qualcomm QFIL rawprogram Converter

This script converts PIT (Partition Information Table) files to Qualcomm QFIL (Qualcomm Flash Image Loader) format XML files. The generated XML files contain information about various partitions, including their names, sizes, and attributes.

## Features

- Parses PIT files and extracts partition information.
- Generates rawprogram{number}.xml files for each partition.
- Supports an optional command line argument to set the filename to an empty string if the corresponding file does not exist.
- Allows for specific partitions to be marked as sparse based on their names (case insensitive).
- Calculates the size of each partition in kilobytes.

## Requirements

- Python 3.x
- `pwn` library (install via `pip install pwn`)

## Usage

Run the script from the command line as follows:

```bash
python pit_to_qfil.py [pit_file] [--autofile]
```

- `[pit_file]`: The path to the PIT file you want to convert.
- `--autofile` (optional): If specified, the script will check for the existence of the partition files. If a file does not exist, its `filename` in the XML will be set to an empty string.

### Example

To convert a PIT file named `example.pit`:

```bash
python pit_to_qfil.py example.pit
```

To run the script in autofile mode:

```bash
python pit_to_qfil.py example.pit --autofile
```

## Output

The output will be one or more `rawprogram{number}.xml` files, each containing the partition information extracted from the PIT file. The XML files will be structured as follows:

```xml
<?xml version="1.0" ?>
<data>
  <!--NOTE: This is an ** Autogenerated file **-->
  <!--NOTE: Sector size is 4096bytes-->
  <program SECTOR_SIZE_IN_BYTES="4096" file_sector_offset="0" filename="" label="partition_name" num_partition_sectors="x" partofsingleimage="false" physical_partition_number="y" readbackverify="false" size_in_KB="z" sparse="false" start_byte_hex="0xaddress" start_sector="n"/>
</data>
```
